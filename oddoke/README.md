# 5/19~5/23 어덕해 개발 일기
## 아티스트 자료 수집 및 모델링
- 포카마켓에서 트로트 가수, 야구팀 제외하고 아티스트 수집
- 멜론에 검색해서 display_name이 영어인지 한글인지 확인 => 영어명, 한글명 모두 수집, 줄임말 있는 경우 기재함
- 멤버 정보는 네이버에 검색해서 수집, 이 과정에서 해체한 팀 있는지 검색해서 확인, 해체한 그룹의 경우 목록에서 제외
- 트위터 프로필 이미지에서 로고 사진 수집, 트위터 프로필이 로고가 아닌 경우 구글에 검색해서 수집
- 아티스트 목록 csv 파일 => 모든 가수를 한글 오름차순으로 정렬해서 id값 부여
- 아티스트 모델링 => display_name, english_name, korean_name, alias 필드 부여
- Django-import-export 라이브러리 사용하여 아티스트 데이터 밀어 넣기
- 아티스트 목록 csv 파일에 logo 칼럼 추가하여 이미지 경로 작성
- 처음에는 로컬에서 불러오려고 했는데 자꾸 오류가 나서 강사님께 도움을 요청했더니 static/image/ 폴더 안에 이미지를 넣고 그 경로를 불러오는 게 좋다는 답변을 받음
- 경로 전부 수정...
- 했더니 문제 해결 완료!
- 아티스트 목록 불러오기 성공! 아티스트 로고가 전부 보이는 화면을 스크롤하는데 너무 뿌듯했다

# 모델링 변경
- 앱 구성을 “유저 / 아티스트 / 덕팜 / 덕담 / 덕생”으로 나누기로 하고 글 쓰는 post 모델을 덕팜에서 하나, 덕생에서 하나 생성했는데 막상 만들어보니 게시판에서 카테고리에 따라 작성해야하는 필드가 다르다보니 null값이 많이 생성됨
- 덕팜(거래/대여/분철), 덕담(커뮤니티/예절샷/생카후기)로 모델 분리하기로 결정
- SQLD 공부하다보니 이게 정규화인 것 같다...
- 일단 공통으로 들어가는 필드(제목, 내용, 이미지 등)를 받을 베이스 포스트 모델을 만들고 나머지 포스트 모델에서 베이스 모델을 상속함
- 모델이 분리 됐으므로 forms.py/urls.py/views.py/html template 전부 수정 작업에 들어갔다......... 이 과정 중에 기존에 예쁘게 꾸며뒀던 것들 전부 날아가서 눈물 났음ㅜ 물론 하나하나 고쳐야될 거 찾아서 수정하느라 눈도 빠질 것 같았음....
- 모델마다 crud 로직을 전부 분리하자니 중복되는 코드가 너무 많아서 카테고리를 불러주는 함수들을 utils.py에 생성하고 views.py에서는 한번에 처리하도록 코드를 작성
- 이 부분은 거의 gpt가 하라는 대로 해서 코드 보면서 어떻게 짠건지 확인해봐야함...
- 덕담 먼저 만들고 덕팜 만들었는데 덕함은 필드가 더 많았고...
- 거래 글이랑 대여 글은 구성이 거의 비슷한데 분철팟만 혼자 너무 달라서 상속을 두번 하도록 모델을 구성함 => 코드 중복 많이 줄여서 혼자 속으로 뿌듯했다
- BasePost -> MarketPost -> SellPost, RentalPost
- BasePost -> SplitPost
- 나머지는 덕담에서 만들어둔 거 그대로 따라하면서 모델명만 맞게 수정함
- 이틀에 걸쳐서 모델 분리 완료!
- 근데 이제 이미지를 여러개 업로드하는 기능을 넣으려고 했더니 포스트 모델이 6개인 게 또 문제가 됨.......... 이거 어케하묘
